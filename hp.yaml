port: 7890
socks-port: 7891
redir-port: 7892
allow-lan: true
mode: Rule
log-level: info
external-controller: '127.0.0.1:9090'
secret: ''
experimental:
  ignore-resolve-fail: true

dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  default-nameserver:
    - 8.8.8.8
    - 1.1.1.1
  nameserver:
    - https://dns.cloudflare.com/dns-query
    - https://dns.google/dns-query
  fallback:
    - 'tls://1.1.1.1'
    - 'tls://8.8.8.8'
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4

proxies:
  - name: "FastNode"
    type: trojan
    server: 98.98.140.86
    port: 443
    password: "fastnode_648041_38624048170664717"
    udp: true
    sni: "tn.trojancert.com"
    skip-cert-verify: false
    alpn:
      - h2
      - http/1.1

proxy-groups:
  - name: Auto
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: 300
    proxies:
      - FastNode
  - name: Proxy
    type: select
    proxies:
      - Auto
      - FastNode
  - name: Direct
    type: select
    proxies:
      - DIRECT

rules:
  - GEOIP,IR,DIRECT
  - MATCH,Proxy
